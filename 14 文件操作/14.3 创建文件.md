### 14.3 创建文件

Go语言种提供了一个Create\(\)函数专门创建文件。

该函数在创建文件时，首先会判断要创建的文件是否存在。如果不存在，则创建；如果存在，会降文件中已有的数据清空。

同时，当文件创建成功后，该文件会默认打开，所以不用在执行打开操作，可以直接向该文件中写入数据。

**创建文件的步骤：**

\(1\) 导入"os"包，创建文件。（读取文件的函数都在该包。）

\(2\) 指定创建的文件存放路径和名字。

\(3\) 执行创建文件Create\(\)函数，进行文件创建。

\(4\) 关闭文件。

例子：

```go
package main

import (
	"fmt"
	"os"
)

func main() {

	fileName := "go_file.txt"
	// 路径可以是绝对路径和相对路径
	fp, err := os.Create(fileName)
	if err != nil {
		// 文件创建失败原因
		// 1. 路径不存在
		// 2. 文件权限
		// 3. 程序打开文件上限
		fmt.Println("file create fail !!")
		return
	}

	// 不关闭文件导致
	// 1. 导致内存泄露
	// 2. 程序打开文件回潮上限
	defer fp.Close()

	fmt.Println("file create fail !!")
}

```

run以上代码以后，在程序文件存放的目录中，看到有一个go\_file.txt的文件。

**注意：创建文件时，主要要判断是否出现异常，同时要注意defer的使用。**

